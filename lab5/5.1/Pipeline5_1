pipeline {
  agent {
    kubernetes {
      //cloud 'kubernetes'
      //defaultContainer 'simple-app'
      yaml """
kind: Pod
spec:
  containers:
  - name: pipeline-5-1
    image: hashicorp/terraform:0.14.8
    imagePullPolicy: IfNotPresent
"""
    }
  }
  stages {
    stage('Initializing terraform') {
      steps {
        sh 'init'
      }
      
    }
    /*stage('Creating compute instance in GCP') {
      steps {
        echo 'Creating compute instance in GCP'
        sh 'apply --auto-approve'
      }
      
    }*/
  }
}