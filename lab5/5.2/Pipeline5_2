pipeline {
  agent {
    kubernetes {
      //cloud 'kubernetes'
      //defaultContainer ''
      yaml """
kind: Pod
spec:
  containers:
  - name: gradle-build
    image: iptcp/gradle-app:0.1
    imagePullPolicy: IfNotPresent
    command: ["sleep"]
    args: ["10"]
"""
    }
  }
  stages {
  
        stage('Download from GCS') {
            steps{
                // Download from GCS bucket object named PATTERN to directory LOCAL_DIR.
                step([$class: 'DownloadStep', credentialsId: simple-pipeline-app
                        .CREDENTIALS_ID,  bucketUri: "gs://simple-pipeline-artifact",
                      localDirectory: /home/gradle/app])
            }
        }
  }
}